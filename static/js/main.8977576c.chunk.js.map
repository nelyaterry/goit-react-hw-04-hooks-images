{"version":3,"sources":["component/Searchbar/Searchbar.styled.jsx","component/Searchbar/Searchbar.jsx","servises/api-service.js","component/ImageGalleryItem/ImageGalleryItem.styled.jsx","component/ImageGalleryItem/ImageGalleryItem.jsx","component/Button/Button.styled.jsx","component/Button/Button.jsx","component/Modal/Modal.styled.jsx","component/Modal/Modal.jsx","component/Loader/Loader.styled.jsx","component/Loader/Loader.jsx","component/ImageGallery/ImageGallery.styled.jsx","component/ImageGallery/ImageGallery.jsx","component/App/App.js","index.js"],"names":["Header","styled","header","SearchForm","form","Button","button","ButtonLabel","span","Input","input","Searchbar","onSubmit","useState","request","setReqest","e","preventDefault","alert","type","name","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","trim","fetchImagine","page","axios","get","params","q","key","image_type","orientation","per_page","Item","li","Image","img","ImageGalleryItem","images","onClick","map","index","id","webformatURL","largeImageURL","src","alt","Btn","children","Overlay","div","ModalBlock","modalRoot","document","querySelector","Modal","useEffect","window","addEventListener","hendelKeyDown","removeEventListener","code","createPortal","className","target","Load","Download","color","height","width","timeout","Gallery","ul","Content","ImageGallery","setImages","status","setStatus","setPage","imageUrl","setImageUrl","showModal","setShowModal","total","setTotal","then","response","data","hits","imges","smoothScroll","scrollTo","top","documentElement","scrollHeight","behavior","onTogleModal","prevShowModal","url","length","App","setRequest","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8977576c.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const Header = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const ButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 14px;\r\n  padding-right: 4px;\r\n\r\n  &::placeholder {\r\n    font: inherit;\r\n  }\r\n`;\r\n","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  Header,\r\n  SearchForm,\r\n  Button,\r\n  ButtonLabel,\r\n  Input,\r\n} from \"./Searchbar.styled\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [request, setReqest] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setReqest(e.currentTarget.value.trim());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (request === \"\") {\r\n      alert(\"What are you looking for??\");\r\n      return;\r\n    }\r\n\r\n    onSubmit(request);\r\n\r\n    setReqest(\"\");\r\n  };\r\n\r\n  return (\r\n    <Header>\r\n      <SearchForm onSubmit={handleSubmit}>\r\n        <Button type=\"submit\">\r\n          <ButtonLabel>Search</ButtonLabel>\r\n        </Button>\r\n\r\n        <Input\r\n          type=\"text\"\r\n          name=\"request\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={request}\r\n          onChange={handleChange}\r\n        />\r\n      </SearchForm>\r\n    </Header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import axios from \"axios\";\n\nconst fetchImagine = (request, page) => {\n  // const KEY_IPI = \"22756527-2e30581cfec2e7755e4985106\";\n  // return axios.get(\n  //   `https://pixabay.com/api/?q=${request}&page=${page}&key=${KEY_IPI}&image_type=photo&orientation=horizontal&per_page=12`\n  // );\n\n  return axios.get(\"https://pixabay.com/api/\", {\n    params: {\n      q: request,\n      key: \"22756527-2e30581cfec2e7755e4985106\",\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      per_page: 12,\n      page: page,\n    },\n  });\n};\n\nexport default fetchImagine;\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Item = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import { Item, Image } from \"./ImageGalleryItem.styled\";\r\n\r\nconst ImageGalleryItem = ({ images, onClick }) => {\r\n  return images.map(({ id, webformatURL, largeImageURL }, index) => (\r\n    <Item key={index} id={id} onClick={() => onClick(largeImageURL)}>\r\n      <Image src={webformatURL} alt=\"\" />\r\n    </Item>\r\n  ));\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Btn = styled.button`\r\n  padding: 8px 16px;\r\n  margin-bottom: 30px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { Btn } from \"./Button.styled\";\r\n\r\nconst Button = ({ onClick, children }) => {\r\n  return (\r\n    <Btn type=\"button\" onClick={onClick}>\r\n      {children}\r\n    </Btn>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n`;\r\n\r\nexport const ModalBlock = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Overlay, ModalBlock } from \"./Modal.styled\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nconst Modal = ({ onClick, children }) => {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", hendelKeyDown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", hendelKeyDown);\r\n    };\r\n  });\r\n\r\n  const hendelKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClick();\r\n    }\r\n  };\r\n  const hendelBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClick();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <Overlay className=\"Overlay\" onClick={hendelBackdropClick}>\r\n      <ModalBlock className=\"Modal\">{children}</ModalBlock>\r\n    </Overlay>,\r\n    modalRoot\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Load = styled.div`\r\n  position: fixed;\r\n  left: calc(50% - 50px);\r\n  top: calc(50%);\r\n`;\r\n","import Loader from \"react-loader-spinner\";\r\nimport { Load } from \"./Loader.styled\";\r\n\r\nconst Download = () => {\r\n  return (\r\n    <Load>\r\n      <Loader\r\n        type=\"Rings\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n    </Load>\r\n  );\r\n};\r\n\r\nexport default Download;\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Gallery = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 30px;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport fetchImagine from \"../../servises/api-service\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Download from \"../Loader/Loader\";\r\nimport { Gallery, Content } from \"./ImageGallery.styled\";\r\n\r\nconst ImageGallery = ({ request }) => {\r\n  const [images, setImages] = useState([]);\r\n  const [status, setStatus] = useState(\"idle\");\r\n  const [page, setPage] = useState(1);\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [total, setTotal] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (request === \"\") {\r\n      return;\r\n    }\r\n\r\n    setImages([]);\r\n    setPage(1);\r\n    setStatus(\"pending\");\r\n\r\n    fetchImagine(request, 1).then((response) => {\r\n      if (response.data.total === 0) {\r\n        setStatus(\"regected\");\r\n      } else {\r\n        setImages(response.data.hits);\r\n        setTotal(response.data.total);\r\n        setStatus(\"resolved\");\r\n      }\r\n    });\r\n  }, [request]);\r\n\r\n  useEffect(() => {\r\n    if (page === 1) {\r\n      return;\r\n    }\r\n    fetchImagine(request, page)\r\n      .then((response) => {\r\n        setImages((imges) => [...imges, ...response.data.hits]);\r\n      })\r\n      .then(page > 1 && smoothScroll);\r\n  }, [page]);\r\n\r\n  const smoothScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const onLoadMore = () => {\r\n    setPage((page) => page + 1);\r\n  };\r\n\r\n  const onTogleModal = () => {\r\n    setShowModal((prevShowModal) => !prevShowModal);\r\n  };\r\n\r\n  const onOpenModal = (url) => {\r\n    setImageUrl(url);\r\n\r\n    onTogleModal();\r\n  };\r\n\r\n  if (status === \"idle\") {\r\n    return (\r\n      <Content>\r\n        <h1>Введите запрос</h1>\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (status === \"pending\") {\r\n    return <Download />;\r\n  }\r\n\r\n  if (status === \"resolved\") {\r\n    return (\r\n      <Content>\r\n        <Gallery>\r\n          <ImageGalleryItem images={images} onClick={onOpenModal} />\r\n        </Gallery>\r\n        {total !== images.length && (\r\n          <Button onClick={onLoadMore}>Load more</Button>\r\n        )}\r\n\r\n        {showModal && (\r\n          <Modal onClick={onTogleModal}>\r\n            <img src={imageUrl} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </Content>\r\n    );\r\n  }\r\n\r\n  if (status === \"regected\") {\r\n    return (\r\n      <Content>\r\n        <h1>По вашему запросу нет данных</h1>\r\n      </Content>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  request: PropTypes.string,\r\n};\r\n","import React, { useState } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\n\nconst App = () => {\n  const [request, setRequest] = useState(\"\");\n\n  const hendelFormSubmit = (request) => {\n    setRequest(request);\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={hendelFormSubmit} />\n      <ImageGallery request={request} />\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./component/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}